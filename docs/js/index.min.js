"use strict";/**
 * js/index.js - w3bp
 * Basic AngularJS setup for routing.
 * 
 * Licensed under MIT license.
 * Copyright (C) 2016 Karim Alibhai.
 */
window.app=function(){var e=angular.module("w3bp",["ngRoute","ngAnimate"]);return e.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"/views/index.html",controller:"GameCtl"}),t.html5Mode(!0)}]),e.directive("ngEnter",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){return e.$eval(n.ngEnter)}),t.preventDefault())})}}),e.controller("GameCtl",["$scope",function(e){var t=$("#think"),n=$("#questionMdl"),r=$("#answerMdl"),o=$("#scoreboard"),a=$("#stealMdl");e.questions={},e.teams=[],e.score=[],e.current={player:0},e.time=30,$("#teamsMdl").modal("show"),$.getJSON("/questions.json",function(t){e.$apply(function(){e.questions=t})}),e.width=function(){return 100/Object.keys(e.questions).length},e.height=function(){for(var t in e.questions)if(e.questions.hasOwnProperty(t))return 100/Object.keys(e.questions[t]).length},e.id=function(e,t){return(e+""+t).toLowerCase().replace(/[^a-z0-9]+/g,"-")},e.start=function(t){e.teams="ABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(0,t).split(""),e.score=e.teams.map(function(e){return 0}),$("#teamsMdl").modal("hide")},e.ask=function(r,o,a){var i=$('[data-id="'+e.id(r,o)+'"]');i.is(".disabled")||(e.current.question=a,e.current.category=r,e.current.points=o,i.addClass("clicked"),setTimeout(function(){n.modal("show"),i.addClass("disabled"),t.get(0).play()},2001))},t.on("timeupdate",function(){var n=t.get(0);e.$apply(function(){return e.time=Math.round(n.duration-n.currentTime)})}),e.right=function(){e.score[e.current.player]+=parseInt(e.current.points),e.current.player+=1,e.current.player===e.teams.length&&(e.current.player=0),r.modal("hide")},e.wrong=function(){e.current.player+=1,e.current.player===e.teams.length&&(e.current.player=0),r.modal("hide")},e.next=function(){t.get(0).pause(),t.get(0).currentTime=0,a.modal("hide"),n.modal("hide"),r.modal("show")},e.scoreboard=function(){o.modal("toggle")},e.steal=function(o){void 0===o?(t.get(0).pause(),t.get(0).currentTime=0,n.modal("hide"),a.modal("show")):(e.score[o]+=parseInt(e.current.points),e.current.player+=1,e.current.player===e.teams.length&&(e.current.player=0),a.modal("hide"),r.modal("show"))}}]),e}();
//# sourceMappingURL=index.min.js.map
